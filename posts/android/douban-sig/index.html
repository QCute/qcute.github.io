<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="VarKai"><title>豆瓣APIV2的sig(签名)算法 ｜ 轻作</title>
<meta name=description content="模拟豆瓣API请求, 抓包后看到请求参数带有这个签名数据, 服务器会进行校验。 豆瓣版本7.66.0 准备工具 jadx frida frida-node JsHook 由于豆瓣无法使用frida和frida-strong, 故转换成JsHook Jadx全局搜索"><meta name=keywords content="Hugo,theme,graphite"><link rel="shortcut icon" href=https://qcute.github.io/images/favicon.ico><link rel=stylesheet type=text/css media=screen href=https://unpkg.com/normalize.css@8.0.1/normalize.css><link rel=stylesheet type=text/css media=screen href=https://unpkg.com/animate.css@4.1.1/animate.min.css><link rel=stylesheet type=text/css media=screen href=https://unpkg.com/remixicon@2.5.0/fonts/remixicon.css><link rel=stylesheet type=text/css media=screen href=https://unpkg.com/@fancyapps/ui@4.0.27/dist/fancybox.css><link rel=stylesheet type=text/css media=screen href=/css/highlight.min.css><link rel=stylesheet type=text/css media=screen href=/css/graphite.min.css></head><body><div class="main animate__animated animate__fadeInDown"><div class="nav_container animated fadeInDown"><div class=site_nav id=site_nav><ul><li><a href=/>首页</a></li><li><a href=/categories/>分类</a></li><li><a href=/tags/>标签</a></li><li><a href=/posts/>归档</a></li><li><a href=/about/>关于</a></li><li><a href=/search/ title=搜索 id=site_search><i class=ri-search-line></i></a></li></ul></div><div class=menu_icon><a id=menu_icon><i class=ri-menu-line></i></a></div></div><div class="header animated fadeInDown"><div class=site_title_container><div class=site_title><h1><a href=https://qcute.github.io/><span><img src=https://gohugo.io/favicon.ico></span></a></h1></div><div class=description><h1 style=float:right><a><span>轻作</span></a></h1><br><br><p class=sub_title>重拾写作的乐趣</p><div class=my_socials><a href=https://github.com/QCute title=github target=_blank><i class=ri-github-fill></i></a>
<a href=https://www.zhihu.com/people/tui-fei-er-you-ya-de-shen-shi title=zhihu target=_blank><i class=ri-zhihu-fill></i></a>
<a href type=application/rss+xml title=rss target=_blank><i class=ri-rss-fill></i></a></div></div></div></div><div class=content><div class=post_page><div class="post animate__animated animate__fadeInDown"><div class="post_title post_detail_title"><h2><a href=/posts/android/douban-sig/>豆瓣APIV2的sig(签名)算法</a></h2><span class=date>2020.03.03</span></div><div class="post_content markdown"><h2 id=模拟豆瓣api请求-抓包后看到请求参数带有这个签名数据-服务器会进行校验>模拟豆瓣API请求, 抓包后看到请求参数带有这个签名数据, 服务器会进行校验。</h2><h3 id=豆瓣版本7660>豆瓣版本7.66.0</h3><h2 id=准备工具>准备工具</h2><ul><li><a href=https://github.com/skylot/jadx>jadx</a></li><li><del><a href=https://github.com/frida/frida>frida</a></del></li><li><del><a href=https://www.npmjs.com/package/frida>frida-node</a></del></li><li><a href=https://jshook.org>JsHook</a></li></ul><h3 id=由于豆瓣无法使用fridahttpsgithubcomfridafrida和frida-stronghttpsgithubcomhzzheyangstrongr-frida-android-故转换成jshookhttpsjshookorg>由于豆瓣无法使用<a href=https://github.com/frida/frida>frida</a>和<a href=https://github.com/hzzheyang/strongR-frida-android>frida-strong</a>, 故转换成<a href=https://jshook.org>JsHook</a></h3><h3 id=jadx全局搜索ctrlshiftf_sig-找到重点函数v6bintercept-核心smali代码如下><a href>Jadx</a>全局搜索(<a href>Ctrl+Shift+F</a>)_sig, 找到重点函数<a href>v6.b.intercept</a>, 核心<a href>Smali</a>代码如下</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-Smali data-lang=Smali><span class=line><span class=cl><span class=w>                </span><span class=err>Pair</span><span class=w> </span><span class=err>R</span><span class=mi>3</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=err>e</span><span class=mi>0</span><span class=p>.</span><span class=err>a</span><span class=p>.</span><span class=nf>R</span><span class=p>(</span><span class=err>request</span><span class=p>)</span><span class=err>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span>if<span class=w> </span><span class=p>(</span><span class=err>R</span><span class=mi>3</span><span class=w> </span><span class=err>!</span><span class=p>=</span><span class=w> </span><span class=err>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span>request<span class=w> </span><span class=p>=</span><span class=w> </span><span class=err>request</span><span class=p>.</span><span class=nf>newBuilder</span><span class=p>().</span><span class=nf>url</span><span class=p>(</span><span class=err>request</span><span class=p>.</span><span class=nf>url</span><span class=p>().</span><span class=nf>newBuilder</span><span class=p>().</span><span class=nf>setQueryParameter</span><span class=p>(</span><span class=s>&#34;_sig&#34;</span><span class=p>,</span><span class=w> </span><span class=p>(</span><span class=kt>S</span><span class=err>tring</span><span class=p>)</span><span class=w> </span><span class=err>R</span><span class=mi>3</span><span class=p>.</span><span class=err>first</span><span class=p>).</span><span class=nf>setQueryParameter</span><span class=p>(</span><span class=err>bl</span><span class=p>.</span><span class=err>f</span><span class=mi>29262</span><span class=err>h</span><span class=p>,</span><span class=w> </span><span class=p>(</span><span class=kt>S</span><span class=err>tring</span><span class=p>)</span><span class=w> </span><span class=err>R</span><span class=mi>3</span><span class=p>.</span><span class=err>second</span><span class=p>).</span><span class=nf>build</span><span class=p>()).</span><span class=nf>build</span><span class=p>()</span><span class=err>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h3 id=从e0ar跳转找到e0aq>从<a href>e0.a.R</a>跳转找到<a href>e0.a.Q</a></h3><h3 id=e0aq的核心smali代码如下><a href>e0.a.Q</a>的核心<a href>Smali</a>代码如下</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-Smali data-lang=Smali><span class=line><span class=cl><span class=w>    </span><span class=k>public</span><span class=w> </span><span class=k>static</span><span class=w> </span><span class=err>Pair</span><span class=w> </span><span class=nf>Q</span><span class=p>(</span><span class=kt>S</span><span class=err>tring</span><span class=w> </span><span class=err>str</span><span class=p>,</span><span class=w> </span><span class=kt>S</span><span class=err>tring</span><span class=w> </span><span class=err>str</span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=kt>S</span><span class=err>tring</span><span class=w> </span><span class=err>str</span><span class=mi>3</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>S</span><span class=err>tring</span><span class=w> </span><span class=err>decode;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>S</span><span class=err>tring</span><span class=w> </span>str4<span class=w> </span><span class=p>=</span><span class=w> </span><span class=err>null;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>if<span class=w> </span><span class=p>(</span><span class=err>TextUtils</span><span class=p>.</span><span class=nf>isEmpty</span><span class=p>(</span><span class=err>str</span><span class=p>))</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>return<span class=w> </span><span class=err>null;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>S</span><span class=err>tring</span><span class=w> </span>str5<span class=w> </span><span class=p>=</span><span class=w> </span><span class=nb>v6</span><span class=p>.</span><span class=err>e</span><span class=p>.</span><span class=nf>d</span><span class=p>().</span><span class=err>e</span><span class=p>.</span><span class=err>b;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>if<span class=w> </span><span class=p>(</span><span class=err>TextUtils</span><span class=p>.</span><span class=nf>isEmpty</span><span class=p>(</span><span class=err>str</span><span class=mi>5</span><span class=p>))</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>return<span class=w> </span><span class=err>null;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>S</span><span class=err>tring</span><span class=kt>B</span><span class=err>uilder</span><span class=w> </span>r10<span class=w> </span><span class=p>=</span><span class=w> </span><span class=err>android</span><span class=p>.</span><span class=err>support</span><span class=p>.</span><span class=nb>v4</span><span class=p>.</span><span class=err>media</span><span class=p>.</span><span class=err>a</span><span class=p>.</span><span class=nf>r</span><span class=p>(</span><span class=err>str</span><span class=mi>2</span><span class=p>)</span><span class=err>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>S</span><span class=err>tring</span><span class=w> </span>encodedPath<span class=w> </span><span class=p>=</span><span class=w> </span><span class=err>HttpUrl</span><span class=p>.</span><span class=nf>parse</span><span class=p>(</span><span class=err>str</span><span class=p>).</span><span class=nf>encodedPath</span><span class=p>()</span><span class=err>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>if<span class=w> </span><span class=p>(</span>encodedPath<span class=w> </span><span class=p>==</span><span class=w> </span>null<span class=w> </span><span class=err>||</span><span class=w> </span><span class=p>(</span>decode<span class=w> </span><span class=p>=</span><span class=w> </span><span class=err>Uri</span><span class=p>.</span><span class=nf>decode</span><span class=p>(</span><span class=err>encodedPath</span><span class=p>))</span><span class=w> </span><span class=p>==</span><span class=w> </span><span class=err>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>return<span class=w> </span><span class=err>null;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>if<span class=w> </span><span class=p>(</span><span class=err>decode</span><span class=p>.</span><span class=nf>endsWith</span><span class=p>(</span><span class=s>&#34;/&#34;</span><span class=p>))</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>decode<span class=w> </span><span class=p>=</span><span class=w> </span><span class=err>android</span><span class=p>.</span><span class=err>support</span><span class=p>.</span><span class=nb>v4</span><span class=p>.</span><span class=err>media</span><span class=p>.</span><span class=err>e</span><span class=p>.</span><span class=nf>q</span><span class=p>(</span><span class=err>decode</span><span class=p>,</span><span class=w> </span><span class=p>-</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>)</span><span class=err>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=err>r</span><span class=mi>10</span><span class=p>.</span><span class=nf>append</span><span class=p>(</span><span class=s>&#34;&amp;&#34;</span><span class=p>)</span><span class=err>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=err>r</span><span class=mi>10</span><span class=p>.</span><span class=nf>append</span><span class=p>(</span><span class=err>Uri</span><span class=p>.</span><span class=nf>encode</span><span class=p>(</span><span class=err>decode</span><span class=p>))</span><span class=err>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>if<span class=w> </span><span class=p>(</span><span class=err>!TextUtils</span><span class=p>.</span><span class=nf>isEmpty</span><span class=p>(</span><span class=err>str</span><span class=mi>3</span><span class=p>))</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=err>r</span><span class=mi>10</span><span class=p>.</span><span class=nf>append</span><span class=p>(</span><span class=s>&#34;&amp;&#34;</span><span class=p>)</span><span class=err>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=err>r</span><span class=mi>10</span><span class=p>.</span><span class=nf>append</span><span class=p>(</span><span class=err>str</span><span class=mi>3</span><span class=p>)</span><span class=err>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>long<span class=w> </span>currentTimeMillis<span class=w> </span><span class=p>=</span><span class=w> </span><span class=kt>S</span><span class=err>ystem</span><span class=p>.</span><span class=nf>currentTimeMillis</span><span class=p>()</span><span class=w> </span><span class=err>/</span><span class=w> </span><span class=mi>1000</span><span class=err>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=err>r</span><span class=mi>10</span><span class=p>.</span><span class=nf>append</span><span class=p>(</span><span class=s>&#34;&amp;&#34;</span><span class=p>)</span><span class=err>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=err>r</span><span class=mi>10</span><span class=p>.</span><span class=nf>append</span><span class=p>(</span><span class=err>currentTimeMillis</span><span class=p>)</span><span class=err>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>S</span><span class=err>tring</span><span class=w> </span>sb2<span class=w> </span><span class=p>=</span><span class=w> </span><span class=err>r</span><span class=mi>10</span><span class=p>.</span><span class=nf>toString</span><span class=p>()</span><span class=err>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>try<span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=kt>S</span><span class=err>ecretKey</span><span class=kt>S</span><span class=err>pec</span><span class=w> </span>secretKeySpec<span class=w> </span><span class=p>=</span><span class=w> </span>new<span class=w> </span><span class=nf>SecretKeySpec</span><span class=p>(</span><span class=err>str</span><span class=mi>5</span><span class=p>.</span><span class=nf>getBytes</span><span class=p>(),</span><span class=w> </span><span class=err>LiveHelper</span><span class=p>.</span><span class=err>HMA</span><span class=kt>C</span><span class=err>_</span><span class=kt>S</span><span class=err>HA</span><span class=mi>1</span><span class=p>)</span><span class=err>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=err>Mac</span><span class=w> </span>mac<span class=w> </span><span class=p>=</span><span class=w> </span><span class=err>Mac</span><span class=p>.</span><span class=nf>getInstance</span><span class=p>(</span><span class=err>LiveHelper</span><span class=p>.</span><span class=err>HMA</span><span class=kt>C</span><span class=err>_</span><span class=kt>S</span><span class=err>HA</span><span class=mi>1</span><span class=p>)</span><span class=err>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=err>mac</span><span class=p>.</span><span class=nf>init</span><span class=p>(</span><span class=err>secretKey</span><span class=kt>S</span><span class=err>pec</span><span class=p>)</span><span class=err>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>str4<span class=w> </span><span class=p>=</span><span class=w> </span><span class=kt>B</span><span class=err>ase</span><span class=mi>64</span><span class=p>.</span><span class=nf>encodeToString</span><span class=p>(</span><span class=err>mac</span><span class=p>.</span><span class=nf>doFinal</span><span class=p>(</span><span class=err>sb</span><span class=mi>2</span><span class=p>.</span><span class=nf>getBytes</span><span class=p>()),</span><span class=w> </span><span class=mi>2</span><span class=p>)</span><span class=err>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w> </span>catch<span class=w> </span><span class=p>(</span><span class=err>Exception</span><span class=w> </span><span class=err>e</span><span class=mi>10</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=err>e</span><span class=mi>10</span><span class=p>.</span><span class=nf>printStackTrace</span><span class=p>()</span><span class=err>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>return<span class=w> </span>new<span class=w> </span><span class=nf>Pair</span><span class=p>(</span><span class=err>str</span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=kt>S</span><span class=err>tring</span><span class=p>.</span><span class=nf>valueOf</span><span class=p>(</span><span class=err>currentTimeMillis</span><span class=p>))</span><span class=err>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><ul><li>①<a href>str</a>是请求URL的<a href>path</a></li><li>②<a href>str2</a>是请求的方法,例如GET/POST等</li><li>③<a href>str3</a>是抓包HTTP请求头上的Authorization字段去除Bearer和空格, 也就是后面的一串值</li><li>④<a href>currentTimeMillis</a>是秒级时间戳</li><li><a href>str5</a>是<a href>HMAC_SHA1</a>的key, 我抓到的值是<a href>bf7dddc7c9cfe6f7</a></li></ul><h3 id=核心算法>核心算法</h3><h4 id=把上述的前四个参数用拼接起来-然后使用hmac_sha1算法进行签名-再进行base64编码>把上述的前四个参数用<code>&</code>拼接起来, 然后使用<a href>HMAC_SHA1</a>算法进行签名, 再进行<a href>Base64</a>编码</h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=ch>#!/bin/env python</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>urllib</span> <span class=kn>import</span> <span class=n>parse</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>hmac</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>base64</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>sig</span><span class=p>(</span><span class=n>method</span><span class=p>,</span> <span class=n>url</span><span class=p>,</span> <span class=n>authorization</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>path</span> <span class=o>=</span> <span class=n>parse</span><span class=o>.</span><span class=n>urlparse</span><span class=p>(</span><span class=n>url</span><span class=p>)</span><span class=o>.</span><span class=n>path</span>
</span></span><span class=line><span class=cl>    <span class=n>ts</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=nb>int</span><span class=p>(</span><span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()))</span>
</span></span><span class=line><span class=cl>    <span class=n>message</span> <span class=o>=</span> <span class=s2>&#34;</span><span class=si>{method}</span><span class=s2>&amp;</span><span class=si>{path}</span><span class=s2>&amp;</span><span class=si>{authorization}</span><span class=s2>&amp;</span><span class=si>{ts}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>digest</span> <span class=o>=</span> <span class=n>hmac</span><span class=o>.</span><span class=n>new</span><span class=p>(</span><span class=sa>b</span><span class=s1>&#39;bf7dddc7c9cfe6f7&#39;</span><span class=p>,</span> <span class=n>message</span><span class=o>.</span><span class=n>encode</span><span class=p>(),</span> <span class=s1>&#39;sha1&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>digest</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>base64</span><span class=o>.</span><span class=n>base64encode</span><span class=p>(</span><span class=n>digest</span><span class=p>)</span>
</span></span></code></pre></div><h3 id=hook代码>Hook代码</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=nx>XposedBridge</span><span class=p>.</span><span class=nx>hookAllMethods</span><span class=p>(</span><span class=nx>XposedHelpers</span><span class=p>.</span><span class=nx>findClass</span><span class=p>(</span><span class=s2>&#34;e0.a&#34;</span><span class=p>,</span> <span class=nx>runtime</span><span class=p>.</span><span class=nx>classLoader</span><span class=p>),</span> <span class=s2>&#34;Q&#34;</span><span class=p>,</span> <span class=nx>XC_MethodReplacement</span><span class=p>({</span>
</span></span><span class=line><span class=cl>    <span class=nx>replaceHookedMethod</span>: <span class=kt>function</span> <span class=p>(</span><span class=nx>param</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// XposedHelpers.getStaticObjectField(XposedHelpers.findClass(&#39;com.test.test&#39;,runtime.classLoader),&#39;name&#39;);
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;v6.e.d().e.b:《&#39;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>            <span class=nx>XposedHelpers</span><span class=p>.</span><span class=nx>getObjectField</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=nx>XposedHelpers</span><span class=p>.</span><span class=nx>getObjectField</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                    <span class=nx>XposedHelpers</span><span class=p>.</span><span class=nx>callStaticMethod</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                        <span class=nx>XposedHelpers</span><span class=p>.</span><span class=nx>findClass</span><span class=p>(</span><span class=s1>&#39;v6.e&#39;</span><span class=p>,</span> <span class=nx>runtime</span><span class=p>.</span><span class=nx>classLoader</span><span class=p>),</span> <span class=s1>&#39;d&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>                    <span class=s1>&#39;e&#39;</span>
</span></span><span class=line><span class=cl>                <span class=p>),</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;b&#39;</span>
</span></span><span class=line><span class=cl>            <span class=p>),</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;》&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;hook:《&#39;</span><span class=p>,</span> <span class=nx>param</span><span class=p>.</span><span class=nx>args</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=s1>&#39;》《&#39;</span><span class=p>,</span> <span class=nx>param</span><span class=p>.</span><span class=nx>args</span><span class=p>[</span><span class=mi>1</span><span class=p>],</span> <span class=s1>&#39;》《&#39;</span><span class=p>,</span> <span class=nx>param</span><span class=p>.</span><span class=nx>args</span><span class=p>[</span><span class=mi>2</span><span class=p>],</span> <span class=s1>&#39;》&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>XposedBridge</span><span class=p>.</span><span class=nx>invokeOriginalMethod</span><span class=p>(</span><span class=nx>param</span><span class=p>.</span><span class=nx>method</span><span class=p>,</span> <span class=nx>param</span><span class=p>.</span><span class=nx>thisObject</span><span class=p>,</span> <span class=nx>param</span><span class=p>.</span><span class=nx>args</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}));</span>
</span></span></code></pre></div><h2 id=核心日志>核心日志</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[com.douban.frodo]: hook:《https://frodo.douban.com/api/v2/group/123456/topics?count=20&amp;sortby=hot&amp;use_card_mode=true&amp;screen_width=1080&amp;boot_mark=5bb12f1b-4396-43ca-88d5-d0ac6b0f7e7a%0A&amp;screen_height=1920&amp;wx_api_ver=671099729&amp;opensdk_ver=638058496&amp;webview_ua=Mozilla%2F5.0%20%28Linux%3B%20Android%209%3B%20MI%206%20Build%2FPKQ1.190118.001%3B%20wv%29%20AppleWebKit%2F537.36%20%28KHTML%2C%20like%20Gecko%29%20Version%2F4.0%20Chrome%2F103.0.5060.129%20Mobile%20Safari%2F537.36&amp;sugar=46001&amp;update_mark=1654910940.917463998&amp;miui_ver=V11.0.5.0.PCACNXM&amp;network=4G&amp;enable_sdk_bidding=1&amp;apikey=0dad551ec0f84ed02907ff5c42e8ec70&amp;channel=Yingyongbao_Market&amp;udid=a0f13b543f8b353ce3a78563d342481f1ad9f4bf&amp;os_rom=miui6&amp;oaid=Vzc%2FWIeQaLQy2nl8IUFIyJQZ4Mpulwe6tosmnjjujgM%3D%0A&amp;timezone=Asia%2FShanghai》《GET》《dbfb33b4a67d968e93f19b1df378c3aa》
</span></span><span class=line><span class=cl>[com.douban.frodo]: v6.e.d().e.b:《bf7dddc7c9cfe6f7》
</span></span></code></pre></div></div><div class=post_footer></div></div><div class=doc_comments><div class=comments_block_title>发表评论</div><div id=comments></div></div><style>.giscus,.giscus-frame{margin-bottom:48px}</style><script src=https://giscus.app/client.js data-repo=QCute/qcute.github.io data-repo-id=R_kgDOG-5qXQ data-category=Announcements data-category-id=DIC_kwDOG-5qXc4CSRb_ data-mapping=url data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=preferred_color_scheme data-lang=zh-CN data-loading=lazy crossorigin=anonymous async></script></div></div></div><a id=back_to_top href=# class=back_to_top><i class=ri-arrow-up-s-line></i></a><footer class=footer><div class=powered_by><a href=https://varkai.com>Designed by VarKai,</a>
<a href=http://www.gohugo.io/>Proudly published with Hugo</a></div><div class=footer_slogan><span>轻作、重拾写作的乐趣</span></div></footer><script src=https://unpkg.com/elevator.js@1.0.1/elevator.min.js></script><script src=https://unpkg.com/dom-slider@2.1.6/dist/dom-slider.js></script><script src=https://unpkg.com/@fancyapps/ui@4.0.27/dist/fancybox.umd.js></script><script src=/js/graphite.min.js></script><script>MathJax={options:{skipHtmlTags:["script","noscript","style","textarea","pre"]},tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["[[","]]"]],processEscapes:!0,processEnvironments:!0}}</script><script type=text/javascript id=MathJax-script async src=https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js></script></body></html>